/*! @ryanmorr/reflex v3.0.0 | https://github.com/ryanmorr/reflex */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).reflex={})}(this,(function(e){"use strict";
/*! @ryanmorr/isotope v3.1.0 | https://github.com/ryanmorr/isotope */class t{constructor(e){this._value=e,this._subscribers=[]}value(){return this._value}set(e){const t=this.value();if(e!==t)return this._value=e,this._subscribers.slice().forEach((n=>n(e,t))),e}subscribe(e){const t=this._subscribers;if(!t.includes(e))return t.push(e),e(this.value()),()=>{const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}then(e){e(this.value())}toString(){return String(this.value())}valueOf(){return this.value()}toJSON(){return this.value()}}let n=class extends t{update(e){return this.set(e(this.value()))}},r=class extends t{constructor(e,t){super();let n=!1;const r=[],o=()=>super.set(t(...r));e.forEach(((e,t)=>e.subscribe((e=>{r[t]=e,n&&o()})))),n=!0,o()}},o=class extends t{constructor(e,t){super();let n=0,r=!1;const o=[],i=e=>t(...o.concat([e]));e.forEach(((e,t)=>e.subscribe((e=>{if(o[t]=e,r){n++;const e=n;i((t=>{n===e&&super.set(t)}))}})))),r=!0,i((e=>super.set(e)))}};r.prototype.set=void 0,o.prototype.set=void 0,class extends t{constructor(e,t){super(e),this._reducer=t}dispatch(e){return super.set(this._reducer(this.value(),e))}}.prototype.set=void 0;var i=function(e,t,n,r){var o;t[0]=0;for(var s=1;s<t.length;s++){var l=t[s++],u=t[s]?(t[0]|=l?1:2,n[t[s++]]):t[++s];3===l?r[0]=u:4===l?r[1]=Object.assign(r[1]||{},u):5===l?(r[1]=r[1]||{})[t[++s]]=u:6===l?r[1][t[++s]]+=u+"":l?(o=e.apply(u,i(e,u,n,["",null])),r.push(o),u[0]?t[0]|=2:(t[s-2]=0,t[s]=o)):r.push(u)}return r},s=new Map;const l=new Map;function u(e,t){if(Array.isArray(e))return e.forEach((e=>u(e,t)));if(11===e.nodeType)return Array.from(e.childNodes).forEach((e=>u(e,t)));let n=l.get(e);n?n.push(t):n=[t],l.set(e,n)}function c(e){const t=l.get(e);t&&(t.forEach((t=>t(e))),l.delete(e)),e.hasChildNodes()&&Array.from(e.childNodes).forEach(c)}let f;const a=new Map,h=window.document.documentElement;function d(e){e.forEach((e=>e.addedNodes.forEach((e=>{if(1===e.nodeType)for(const[t,{root:n,callbacks:r}]of a)if(e===t||e.contains(t)){const e=r.map((e=>e(n))).filter((e=>"function"==typeof e));e.length>0&&p(t,n,e),a.delete(t),0===a.size&&(f.disconnect(),f=null)}}))))}function p(e,t,n){let r=!1;n.forEach((n=>{Array.isArray(t)?t.forEach((e=>{u(e,(()=>{r||(n(t),r=!0)}))})):u(e,n)}))}function g(e,t,n){if(t.children=n,e.length<=1)return e(t);const r=[],o=e(t,(e=>r.push(e)));return r.forEach((e=>function(e,t){null==f&&(f=new MutationObserver(d),f.observe(h,{childList:!0,subtree:!0}));let n,r=e;11===e.nodeType&&(r=Array.from(e.childNodes),e=e.children[0]);const o=a.get(e);o?(n=o.callbacks,n.push(t)):n=[t],a.set(e,{root:r,callbacks:n})}(o,e))),o}
/*! @ryanmorr/schedule-render v3.0.2 | https://github.com/ryanmorr/schedule-render */let y,m;const b=[],v=5;function x(){return performance.now()}function w(){return b.length>0}function C(){m=x();do{w()&&b.shift()()}while(x()-m<v);y=null,w()&&(y=requestAnimationFrame(C))}let A;const S=new Map,E=new Map,k=Promise.resolve();function N(e,t){E.set(e,(()=>E.delete(e)&&t()))}function T(e,t){S.has(e)||(A=function(e){return new Promise((t=>{y||(y=requestAnimationFrame(C)),b.push((()=>t(e())))}))}((()=>{S.get(e)(),S.delete(e),0===S.size&&(A=null,E.size>0&&E.forEach((e=>k.then(e))))}))),S.set(e,t)}function M(){return Math.random().toString(36).substring(2,11)}function B(e){return e&&"function"==typeof e.subscribe}function L(e){return Promise.resolve(e)===e}const O=function(e){var t=s.get(this);return t||(t=new Map,s.set(this,t)),(t=i(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,r=1,o="",i="",s=[0],l=function(e){1===r&&(e||(o=o.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,o):3===r&&(e||o)?(s.push(3,e,o),r=2):2===r&&"..."===o&&e?s.push(4,e,0):2===r&&o&&!e?s.push(5,0,!0,o):r>=5&&((o||!e&&5===r)&&(s.push(r,0,o,n),r=6),e&&(s.push(r,e,0,n),r=6)),o=""},u=0;u<e.length;u++){u&&(1===r&&l(),l(u));for(var c=0;c<e[u].length;c++)t=e[u][c],1===r?"<"===t?(l(),s=[s],r=3):o+=t:4===r?"--"===o&&">"===t?(r=1,o=""):o=t+o[0]:i?t===i?i="":o+=t:'"'===t||"'"===t?i=t:">"===t?(l(),r=1):r&&("="===t?(r=5,n=o,o=""):"/"===t&&(r<5||">"===e[u][c+1])?(l(),3===r&&(s=s[0]),r=s,(s=s[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(l(),r=2):o+=t),3===r&&"!--"===o&&(r=4,s=s[0])}return l(),s}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t,...n){if(this[0]=3,t=t||{},"function"==typeof e)return g(e,t,n);const r=_.includes(e),o=r?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);n&&o.appendChild(z(n,o));return Object.keys(t).forEach((e=>{const n=t[e];n&&n.isBinding?n(o,e):"ref"===e?I(n,o):R(o,e,n,r)})),o})),F=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,_=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];function D(e){return null!=e&&"boolean"!=typeof e}function G(e){let t="";if("string"==typeof e)return e;if(Array.isArray(e)&&e.length>0)for(let n,r=0,o=e.length;r<o;r++)""!==(n=G(e[r]))&&(t+=(t&&" ")+n);else for(const n in e)e[n]&&(t+=(t&&" ")+n);return t}function P(e){return 11===e.nodeType?Array.from(e.childNodes):e}function j(e,t){Array.isArray(t)?t.forEach((t=>e.removeChild(t))):e.removeChild(t)}function I(e,t){"function"==typeof e?I(e(t),t):B(e)&&(e.update((e=>{if(e){const n=e.slice();return n.push(t),n}return[t]})),u(t,(()=>e.update((e=>{const n=e.slice(),r=e.indexOf(t);return n.splice(r,1),n})))))}function z(e,t){return e.reduce(((e,n)=>{const r=q(n,t);return D(r)&&e.appendChild(r),e}),document.createDocumentFragment())}function W(e,t){return"function"==typeof e?W(e(t),t):D(e)?("number"==typeof e&&(e=String(e)),"string"==typeof e?document.createTextNode(e):Array.isArray(e)?z(e,t):e):null}function q(e,t){return"function"==typeof e?q(e(t),t):B(e)?function(e,t){const n=M(),r=document.createTextNode("");let o,i,s=!0;const l=t=>{if("function"==typeof t)l(t(e));else if(L(t))t.then(l);else{if(null==i&&!D(t))return;T(n,(()=>{i=H(e,r,i,t),o=t}))}},c=t=>{"function"==typeof t?c(t(e)):s?(o=t,s=!1,L(t)&&t.then(l)):l(t)},f=t.subscribe(c);if(u(r,f),D(o)&&!L(o)){const e=W(o);i=P(e);const t=document.createDocumentFragment();return t.appendChild(e),t.appendChild(r),t}return r}(t,e):L(e)?function(e,t){const n=document.createTextNode("");return t.then((t=>{D(t)&&T(M(),(()=>H(e,n,null,t)))})),n}(t,e):W(e,t)}function R(e,t,n,r){B(n)?function(e,t,n,r){const o=M();let i,s=!0;const l=t=>{i="value"===n||"selected"===n||"checked"===n?e[n]:i,L(t)?t.then(l):null==i&&null==t||T(o,(()=>{J(e,n,i,t,r),i=t}))},c=t.subscribe((t=>{s?(i=t,s=!1,L(t)?t.then(l):J(e,n,null,t,r)):l(t)}));u(e,c)}(e,n,t,r):L(n)?function(e,t,n,r){t.then((t=>T(M(),(()=>J(e,n,null,t,r)))))}(e,n,t,r):J(e,t,null,n,r)}function $(e,t,n){t.startsWith("--")?e.style.setProperty(t,null==n?"":n):null==n?e.style[t]="":"number"!=typeof n||F.test(t)?e.style[t]=n:e.style[t]=n+"px"}function J(e,t,n,r,o=!1){const i=typeof r;if(t.startsWith("on")&&("function"==typeof n||"function"===i))return t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),r&&e.addEventListener(t,r),void(n&&e.removeEventListener(t,n));if("function"===i)return R(e,t,r(e,t),o);if("style"===t)if("string"==typeof r)e.style.cssText=r;else{"string"==typeof n&&(e.style.cssText=n="");for(const t in Object.assign({},r,n))$(e,t,null==r?"":r[t])}else{if(o||"class"!==t||(t="className"),"class"!==t&&"className"!==t||(r=G(r)),!o&&"width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{return void(e[t]=null==r?"":r)}catch(e){}null==r||!1===r&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,r)}}function H(e,t,n,r){if("number"==typeof r&&(r=String(r)),n&&3===n.nodeType&&"string"==typeof r)return n.data=r,n;if(!D(r))return Array.isArray(n)?j(e,n):e.removeChild(n),null;const o=W(r,e),i=P(o);return null==n?(e.insertBefore(o,t),i):(Array.isArray(n)?1===n.length?e.replaceChild(o,n[0]):(j(e,n),e.insertBefore(o,t)):n.replaceWith(o),i)}function K(e,t){let n=e.value();return null==n&&(n=t,e.set(n)),n}function Q(e,t){for(let n=0;n<e.options.length;n++){const r=e.options[n];if(r.value===t)return void(r.selected=!0)}}function U(e,t){for(let n=0;n<e.options.length;n++){const r=e.options[n];r.selected=~t.indexOf(r.value)}}function V(e,t,n){e.addEventListener(t,n),u(e,(()=>e.removeEventListener(t,n)))}function X(e,t,n=""){let r=K(t,n);const o=M(),i=t.subscribe((t=>{t!==r&&T(o,(()=>{e.value=r=t}))}));e.value=r,u(e,i),V(e,"input",(()=>{r=e.value,0===n&&(r=Number(r)),t.set(r)}))}function Y(e,t){let n=-1,r=e.length;if(r>0&&e[r-1]<=t)return r-1;for(;r-n>1;){let o=Math.floor((n+r)/2);e[o]>t?r=o:n=o}return n}function Z(e,t,n,r,o,i,s){if(0===n.length){if(void 0!==i||void 0!==s){let t,n=void 0!==i?i.nextSibling:e.firstChild;for(void 0===s&&(s=null);n!==s;)t=n.nextSibling,ee(e,n),n=t}else e.textContent="";return}if(0===t.length){let t,i=void 0!==s?1:0;for(let l=0,u=n.length;l<u;l++)t=o(n[l],l,r),i?e.insertBefore(t,s):e.appendChild(t);return}let l,u,c=0,f=0,a=!0,h=t.length-1,d=n.length-1,p=i?i.nextSibling:e.firstChild,g=p,y=s?s.previousSibling:e.lastChild;e:for(;a;){let r;for(a=!1,l=t[c],u=n[f];l===u;){if(c++,f++,g=p=p.nextSibling,h<c||d<f)break e;l=t[c],u=n[f]}for(l=t[h],u=n[d];l===u;){if(h--,d--,s=y,y=y.previousSibling,h<c||d<f)break e;l=t[h],u=n[d]}for(l=t[h],u=n[f];l===u;){if(a=!0,r=y.previousSibling,e.insertBefore(y,g),y=r,f++,h--,h<c||d<f)break e;l=t[h],u=n[f]}for(l=t[c],u=n[d];l===u;){if(a=!0,r=p.nextSibling,e.insertBefore(p,s),c++,s=p,p=r,d--,h<c||d<f)break e;l=t[c],u=n[d]}}if(d<f){if(c<=h){let t;for(;c<=h;)0===h?ee(e,y):(t=y.previousSibling,ee(e,y),y=t),h--}return}if(h<c){if(f<=d){let t,i=s?1:0;for(;f<=d;)t=o(n[f],f,r),i?e.insertBefore(t,s):e.appendChild(t),f++}return}const m=new Array(d+1-f);for(let e=f;e<=d;e++)m[e]=-1;const b=new Map;for(let e=f;e<=d;e++)b.set(n[e],e);let v=f+n.length-1-d,x=[];for(let e=c;e<=h;e++)b.has(t[e])?(m[b.get(t[e])]=e,v++):x.push(e);if(0===v){if(void 0!==i||void 0!==s){let t,n=void 0!==i?i.nextSibling:e.firstChild;for(void 0===s&&(s=null);n!==s;)t=n.nextSibling,ee(e,n),n=t,c++}else e.textContent="";let t,l=s?1:0;for(let i=f;i<=d;i++)t=o(n[i],i,r),l?e.insertBefore(t,s):e.appendChild(t);return}const w=function(e,t){let n=[],r=[],o=-1,i=new Array(e.length);for(let s=t,l=e.length;s<l;s++){let t=e[s];if(t<0)continue;let l=Y(n,t);-1!==l&&(i[s]=r[l]),l===o?(o++,n[o]=t,r[o]=s):t<n[l+1]&&(n[l+1]=t,r[l+1]=s)}for(let e=r[o];o>=0;e=i[e],o--)n[o]=e;return n}(m,f),C=[];let A=p;for(let e=c;e<=h;e++)C[e]=A,A=A.nextSibling;for(let t=0;t<x.length;t++){ee(e,C[x[t]])}let S,E=w.length-1;for(let t=d;t>=f;t--)w[E]===t?(s=C[m[w[E]]],E--):(S=-1===m[t]?o(n[t],t,r):C[m[t]],e.insertBefore(S,s),s=S)}function ee(e,t){e.removeChild(t),c(t)}function te(e,t,n){let r=t.nextSibling;for(;r!==n;)ee(e,r),r=t.nextSibling}e.bind=function(e){const t=(t,n)=>{if(n.startsWith("on"))return V(t,n.slice(2).toLowerCase(),(t=>e.set(t)));const r=t.nodeName.toLowerCase();if("textarea"===r&&"value"===n)return X(t,e);if("select"===r&&"value"===n)return"select-multiple"===t.type?function(e,t){let n=!1;const r=M(),o=t.subscribe((t=>{n&&T(r,(()=>U(e,t)))}));n=!0,U(e,K(t,[])),u(e,o),V(e,"input",(()=>{t.set(Array.from(e.selectedOptions).map((e=>e.value)))}))}(t,e):function(e,t){const n=e.options[e.selectedIndex];let r=K(t,n?n.value:"");const o=M(),i=t.subscribe((t=>{t!==r&&T(o,(()=>{Q(e,t),r=t}))}));Q(e,r),u(e,i),V(e,"input",(()=>{const n=e.options[e.selectedIndex];n&&(r=n.value,t.set(r))}))}(t,e);if("input"===r){if(("checkbox"===t.type||"radio"===t.type)&&"checked"===n)return function(e,t){let n=K(t,!1);const r=M(),o=t.subscribe((t=>{t!==n&&T(r,(()=>{e.checked=n=t}))}));e.checked=n,u(e,o),V(e,"change",(()=>{n=e.checked,t.set(n)}))}(t,e);if("value"===n)return"number"===t.type||"range"===t.type?X(t,e,0):X(t,e)}};return t.isBinding=!0,t},e.cleanup=u,e.derived=function(...e){const t=e.pop();return t.length>e.length?new o(e,t):new r(e,t)},e.dispose=c,e.each=function(e,t,n){let r=!1,o=!1,i=[];const s=M(),l=document.createDocumentFragment(),c=document.createTextNode(""),f=document.createTextNode("");l.appendChild(c),l.appendChild(f);const a=e.subscribe((e=>{const l=c.parentNode,u=null!=(a=e)&&"string"!=typeof a&&"function"==typeof a[Symbol.iterator]?Array.from(e):[];var a;if(n&&0===u.length){if(o)return;r?T(s,(()=>{te(l,c,f),l.insertBefore(n(e),f),o=!0,i=[]})):(l.insertBefore(n(e),f),o=!0,i=[])}else r?T(s,(()=>{o&&te(l,c,f),Z(l,i,u,e,t,c,f),o=!1,i=u})):(Z(l,i,u,e,t,c,f),o=!1,i=u)}));return u(c,a),r=!0,l},e.effect=function(...e){const t=M(),n=e.pop();if(e.length>0){let r=!1;const o=[],i=e.map(((e,i)=>e.subscribe((e=>{L(e)?e.then((e=>{o[i]=e,r&&N(t,(()=>n(...o)))})):(o[i]=e,r&&N(t,(()=>n(...o))))}))));return r=!0,()=>i.forEach((e=>e()))}return function(e,t){return E.set(e,t),()=>E.delete(e)}(t,n)},e.html=function(...e){const t=O(...e);return Array.isArray(t)?z(t):q(t)},e.store=function(e){return new n(e)},e.tick=function(){return A||k}}));
