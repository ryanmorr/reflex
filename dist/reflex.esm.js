/*! @ryanmorr/reflex v2.0.1 | https://github.com/ryanmorr/reflex */function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}var n=function(b,c,d,f){var e;c[0]=0;for(var g=1;g<c.length;g++){var i=c[g++],j=c[g]?(c[0]|=i?1:2,d[c[g++]]):c[++g];3===i?f[0]=j:4===i?f[1]=Object.assign(f[1]||{},j):5===i?(f[1]=f[1]||{})[c[++g]]=j:6===i?f[1][c[++g]]+=j+"":i?(e=b.apply(j,n(b,j,d,["",null])),f.push(e),j[0]?c[0]|=2:(c[g-2]=0,c[g]=e)):f.push(j)}return f},t=new Map;function htm(a){var b=t.get(this);return b||(b=new Map,t.set(this,b)),1<(b=n(this,b.get(a)||(b.set(a,b=function(b){for(var c,d,f=1,g="",i="",j=[0],k=function(a){1===f&&(a||(g=g.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?j.push(0,a,g):3===f&&(a||g)?(j.push(3,a,g),f=2):2===f&&"..."===g&&a?j.push(4,a,0):2===f&&g&&!a?j.push(5,0,!0,g):5<=f&&((g||!a&&5===f)&&(j.push(f,0,g,d),f=6),a&&(j.push(f,a,0,d),f=6)),g=""},m=0;m<b.length;m++){m&&(1===f&&k(),k(m));for(var n=0;n<b[m].length;n++)c=b[m][n],1===f?"<"===c?(k(),j=[j],f=3):g+=c:4===f?"--"===g&&">"===c?(f=1,g=""):g=c+g[0]:i?c===i?i="":g+=c:"\""===c||"'"===c?i=c:">"===c?(k(),f=1):f&&("="===c?(f=5,d=g,g=""):"/"===c&&(5>f||">"===b[m][n+1])?(k(),3===f&&(j=j[0]),f=j,(j=j[0]).push(2,0,f),f=0):" "===c||"\t"===c||"\n"===c||"\r"===c?(k(),f=2):g+=c),3===f&&"!--"===g&&(f=4,j=j[0])}return k(),j}(a)),b),arguments,[])).length?b:b[0]}var nodeCleanupMap=new Map;function cleanup(a,b){if(Array.isArray(a))return a.forEach(function(a){return cleanup(a,b)});if(11===a.nodeType)return Array.from(a.childNodes).forEach(function(a){return cleanup(a,b)});var c=nodeCleanupMap.get(a);c?c.push(b):c=[b],nodeCleanupMap.set(a,c)}function dispose(a){var b=nodeCleanupMap.get(a);b&&(b.forEach(function(b){return b(a)}),nodeCleanupMap["delete"](a)),a.hasChildNodes()&&Array.from(a.childNodes).forEach(dispose)}/*! @ryanmorr/schedule-render v3.0.1 | https://github.com/ryanmorr/schedule-render */var frame,start,tasks=[],THRESHOLD=5;function getTime(){return performance.now()}function hasTasks(){return 0<tasks.length}function isWithinBudget(){return getTime()-start<THRESHOLD}function flush(){start=getTime();do hasTasks()&&tasks.shift()();while(isWithinBudget());frame=null,hasTasks()&&(frame=requestAnimationFrame(flush))}function scheduleRender(c){return new Promise(function(a){frame||(frame=requestAnimationFrame(flush)),tasks.push(function(){return a(c())})})}var currentTask,tasks$1=new Map,effects=new Map,resolvedPromise=Promise.resolve();function addEffect(a,b){effects.set(a,b)}function render(a,b){tasks$1.has(a)||(currentTask=scheduleRender(function(){tasks$1.get(a)(),tasks$1["delete"](a),0===tasks$1.size&&(currentTask=null,0<effects.size&&effects.forEach(function(a,b){return effects["delete"](b)&&render(b,a)}))})),tasks$1.set(a,b)}function tick(){return currentTask?currentTask:resolvedPromise}function uuid(){return Math.random().toString(36).substr(2,9)}function isStore(a){return a&&"function"==typeof a.subscribe}function isPromise(a){return Promise.resolve(a)===a}function isIterable(a){return null!=a&&"string"!=typeof a&&"function"==typeof a[Symbol.iterator]}var BINDING=Symbol("binding");function bindInput(a,b){var c=b.get();null==c&&(c="",b.set(c));var d=uuid(),e=b.subscribe(function(b){b!==c&&render(d,function(){a.value=c=b})}),f=function(){c=a.value,b.set(c)};a.addEventListener("input",f),a.value=c,cleanup(a,function(){e(),a.removeEventListener("input",f)})}function bindNumericInput(a,b){var c=b.get();null==c&&(c=0,b.set(c));var d=uuid(),e=b.subscribe(function(b){b!==c&&render(d,function(){a.value=c=b})}),f=function(){c=+a.value,b.set(c)};a.addEventListener("input",f),a.value=c,cleanup(a,function(){e(),a.removeEventListener("input",f)})}function bindCheckboxAndRadio(a,b){var c=b.get();null==c&&(c=!1,b.set(c));var d=uuid(),e=b.subscribe(function(b){b!==c&&render(d,function(){a.checked=c=b})}),f=function(){c=a.checked,b.set(c)};a.addEventListener("change",f),a.checked=c,cleanup(a,function(){e(),a.removeEventListener("change",f)})}function bindSelect(a,b){var c=b.get();if(null==c){var d=a.options[a.selectedIndex];c=d?d.value:"",b.set(c)}var e=uuid(),f=function(b){for(var d,e=0;e<a.options.length;e++)if(d=a.options[e],d.value===b)return d.selected=!0,void(c=b)},g=b.subscribe(function(a){a!==c&&render(e,function(){return f(a)})}),h=function(){var d=a.options[a.selectedIndex];d&&(c=d.value,b.set(c))};a.addEventListener("input",h),f(c),cleanup(a,function(){g(),a.removeEventListener("input",h)})}function bindSelectMultiple(a,b){var c=!1,d=b.get();null==d&&(d=[],b.set(d));var e=uuid(),f=function(b){for(var c,d=0;d<a.options.length;d++)c=a.options[d],c.selected=~b.indexOf(c.value)},g=b.subscribe(function(a){c&&render(e,function(){return f(a)})}),h=function(){return b.set(Array.from(a.selectedOptions).map(function(a){return a.value}))};a.addEventListener("input",h),c=!0,f(d),cleanup(a,function(){g(),a.removeEventListener("input",h)})}function bindEvent(a,b,c){var d=function(a){return b.set(a)};a.addEventListener(c,d),cleanup(a,function(){return a.removeEventListener(c,d)})}function bind(a){var b=function(b,c){if(c.startsWith("on"))return bindEvent(b,a,c.slice(2).toLowerCase());var d=b.nodeName.toLowerCase();if("textarea"===d&&"value"===c)return bindInput(b,a);if("select"===d&&"value"===c)return"select-multiple"===b.type?bindSelectMultiple(b,a):bindSelect(b,a);if("input"===d){if(("checkbox"===b.type||"radio"===b.type)&&"checked"===c)return bindCheckboxAndRadio(b,a);if("value"===c)return"number"===b.type||"range"===b.type?bindNumericInput(b,a):bindInput(b,a)}};return b[BINDING]=!0,b}function isBinding(a){return a&&!0===a[BINDING]}var buildHTML=htm.bind(createElement),SVG_TAGS=["svg","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"];function createClass(a){var b="";if("string"==typeof a)return a;if(Array.isArray(a)&&0<a.length)for(var c,d=0,e=a.length;d<e;d++)""!==(c=createClass(a[d]))&&(b+=(b&&" ")+c);else for(var f in a)a[f]&&(b+=(b&&" ")+f);return b}function arrayToFrag(a){return a.reduce(function(a,b){return null!=b&&a.appendChild(getNode(b)),a},document.createDocumentFragment())}function getNodes(a){return 11===a.nodeType?Array.from(a.childNodes):a}function clearNodes(a,b){Array.isArray(b)?b.forEach(function(b){return a.removeChild(b)}):a.removeChild(b)}function addRef(a,b){"function"==typeof a?addRef(a(b),b):isStore(a)&&(a.update(function(a){if(a){var c=a.slice();return c.push(b),c}return[b]}),cleanup(b,function(){return a.update(function(a){var c=a.slice(),d=a.indexOf(b);return c.splice(d,1),c})}))}function createElement(a,b){this[0]=3,b=b||{};for(var c=arguments.length,d=Array(2<c?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];if("function"==typeof a)return b.children=d,a(b);var f=SVG_TAGS.includes(a),g=f?document.createElementNS("http://www.w3.org/2000/svg",a):document.createElement(a);return d&&g.appendChild(arrayToFrag(d)),b&&Object.keys(b).forEach(function(a){var c=b[a];isBinding(c)?c(g,a):"ref"===a?addRef(c,g):defineProperty(g,a,c,f)}),g}function defineProperty(a,b,c,d){isStore(c)?observeAttributeStore(a,c,b,d):isPromise(c)?observeAttributePromise(a,c,b,d):patchAttribute(a,b,null,c,d)}function createNode(a){return"function"==typeof a?createNode(a()):null==a||isPromise(a)?document.createTextNode(""):("number"==typeof a&&(a+=""),"string"==typeof a?document.createTextNode(a):Array.isArray(a)?arrayToFrag(a):a)}function getNode(a){return isStore(a)?observeNodeStore(a):isPromise(a)?observeNodePromise(a):"function"==typeof a?getNode(a()):createNode(a)}function observeAttributeStore(a,b,c,d){var e,f=uuid(),g=!0,h=function b(g){isPromise(g)?g.then(b):g!==e&&(null!=e||null!=g)&&render(f,function(){patchAttribute(a,c,e,g,d),e=g})},i=b.subscribe(function(b){g?(e=b,g=!1,isPromise(b)?b.then(h):patchAttribute(a,c,null,b,d)):h(b)});cleanup(a,i)}function observeNodeStore(a){var b,c,d=uuid(),e=document.createTextNode(""),f=!0,g=function a(f){"function"==typeof f?a(f()):isPromise(f)?f.then(a):f!==b&&render(d,function(){c=patchNode(c,f,e),b=f,cleanup(c,i)})},h=function a(c){"function"==typeof c?a(c()):f?(b=c,f=!1,isPromise(c)&&c.then(g)):g(c)},i=a.subscribe(h),j=createNode(b);c=getNodes(j),cleanup(c,i);var k=document.createDocumentFragment();return k.appendChild(j),k.appendChild(e),k}function observeNodePromise(a){var b=document.createTextNode(""),c=document.createTextNode("");a.then(function(a){return render(uuid(),function(){return patchNode(b,a,c)})});var d=document.createDocumentFragment();return d.appendChild(b),d.appendChild(c),d}function observeAttributePromise(a,b,c,d){b.then(function(b){return render(uuid(),function(){return patchAttribute(a,c,null,b,d)})})}function patchAttribute(a,b,c,d){var e=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],f=_typeof(d);if(b.startsWith("on")&&("function"==typeof c||"function"===f))return b=b.slice(2).toLowerCase(),d&&a.addEventListener(b,d),void(c&&a.removeEventListener(b,c));if("function"===f)return defineProperty(a,b,d(a),e);if("class"===b&&(b="className"),("class"===b||"className"===b)&&(d=createClass(d)),"style"!==b)!e&&"list"!==b&&"form"!==b&&b in a?a[b]=null==d?"":d:null==d||!1===d?a.removeAttribute(b):a.setAttribute(b,d);else if("string"==typeof d)a.style.cssText=d;else for(var g in Object.assign({},d,c)){var h=null==d||null==d[g]?"":d[g];g.includes("-")?a.style.setProperty(g,h):a.style[g]=h}}function patchNode(a,b,c){if("number"==typeof b&&(b+=""),3===a.nodeType&&"string"==typeof b)return a.data=b,a;var d=c.parentNode,e=createNode(b),f=getNodes(e);return Array.isArray(a)?0===a.length?d.insertBefore(e,c):1===a.length?d.replaceChild(e,a[0]):(clearNodes(d,a),d.insertBefore(e,c)):a.replaceWith(e),f}function html(){var a=buildHTML.apply(void 0,arguments);return Array.isArray(a)?arrayToFrag(a):getNode(a)}function unwrapExports(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function createCommonjsModule(a,b){return b={exports:{}},a(b,b.exports),b.exports}var createStore_esm=createCommonjsModule(function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b["default"]=void 0;b["default"]=function(i){return function(){var j,k=[],a=function(){return j},c=function(){for(var b=arguments.length,c=Array(b),a=0;a<b;a++)c[a]=arguments[a];return j=c[0],k.slice().forEach(function(b){return b.apply(void 0,c)}),j},d=function(c){if(!k.includes(c))return k.push(c),c(j),function(){var a=k.indexOf(c);-1!==a&&k.splice(a,1)}},e=i(a,c,d,k),f=e.apply(void 0,arguments);return f.subscribe||(f.subscribe=d),f}}}),createStore=unwrapExports(createStore_esm),val=createStore(function(a,b){return function(c){b(c);var d=function(c){return b(c,a()),c};return{get:a,set:d,update:function(b){return d(b(a()))}}}}),derived=createStore(function(a,b){return function(){for(var c=!1,d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];var g=e.pop(),h=[],j=function(){return b(g.apply(void 0,h),a())};return e.forEach(function(a,b){return a.subscribe(function(a){h[b]=a,c&&j()})}),c=!0,j(),{get:a}}});function effect(){for(var a=!1,b=uuid(),c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];var f=d.pop(),g=[];d.forEach(function(c,d){return c.subscribe(function(c){isPromise(c)?c.then(function(c){g[d]=c,a&&addEffect(b,function(){return f.apply(void 0,g)})}):(g[d]=c,a&&addEffect(b,function(){return f.apply(void 0,g)}))})}),a=!0}function longestPositiveIncreasingSubsequence(a,b){for(var c,d=[],e=[],f=-1,g=Array(a.length),h=b,k=a.length;h<k;h++)if(c=a[h],!(0>c)){var m=findGreatestIndexLEQ(d,c);-1!==m&&(g[h]=e[m]),m===f?(f++,d[f]=c,e[f]=h):c<d[m+1]&&(d[m+1]=c,e[m+1]=h)}for(var j=e[f];0<=f;j=g[j],f--)d[f]=j;return d}function findGreatestIndexLEQ(a,b){var c=-1,d=a.length;if(0<d&&a[d-1]<=b)return d-1;for(;1<d-c;){var e=Math.floor((c+d)/2);a[e]>b?d=e:c=e}return c}function reconcile(c,d,e,f,g,h,j){if(0===e.length){if(h!==void 0||j!==void 0){var k,l=h===void 0?c.firstChild:h.nextSibling;for(void 0===j&&(j=null);l!==j;)k=l.nextSibling,removeNode(c,l),l=k}else c.textContent="";return}if(0===d.length){for(var m,n=void 0===j?0:1,o=0,p=e.length;o<p;o++)m=g(e[o],o,f),n?c.insertBefore(m,j):c.appendChild(m);return}var q,r,s=0,t=0,u=!0,v=d.length-1,w=e.length-1,x=h?h.nextSibling:c.firstChild,y=x,z=j?j.previousSibling:c.lastChild;fixes:for(;u;){u=!1;var A=void 0;for(q=d[s],r=e[t];q===r;){if(s++,t++,y=x=x.nextSibling,v<s||w<t)break fixes;q=d[s],r=e[t]}for(q=d[v],r=e[w];q===r;){if(v--,w--,j=z,z=z.previousSibling,v<s||w<t)break fixes;q=d[v],r=e[w]}for(q=d[v],r=e[t];q===r;){if(u=!0,A=z.previousSibling,c.insertBefore(z,y),z=A,t++,v--,v<s||w<t)break fixes;q=d[v],r=e[t]}for(q=d[s],r=e[w];q===r;){if(u=!0,A=x.nextSibling,c.insertBefore(x,j),s++,j=x,x=A,w--,v<s||w<t)break fixes;q=d[s],r=e[w]}}if(w<t){if(s<=v)for(var B;s<=v;)0===v?removeNode(c,z):(B=z.previousSibling,removeNode(c,z),z=B),v--;return}if(v<s){if(t<=w)for(var C,D=j?1:0;t<=w;)C=g(e[t],t,f),D?c.insertBefore(C,j):c.appendChild(C),t++;return}for(var E=Array(w+1-t),F=t;F<=w;F++)E[F]=-1;for(var G=new Map,H=t;H<=w;H++)G.set(e[H],H);for(var I=t+e.length-1-w,J=[],K=s;K<=v;K++)G.has(d[K])?(E[G.get(d[K])]=K,I++):J.push(K);if(0===I){if(h!==void 0||j!==void 0){var L,M=h===void 0?c.firstChild:h.nextSibling;for(void 0===j&&(j=null);M!==j;)L=M.nextSibling,removeNode(c,M),M=L,s++}else c.textContent="";for(var N,O=j?1:0,P=t;P<=w;P++)N=g(e[P],P,f),O?c.insertBefore(N,j):c.appendChild(N);return}for(var Q=longestPositiveIncreasingSubsequence(E,t),R=[],S=x,T=s;T<=v;T++)R[T]=S,S=S.nextSibling;for(var U,V=0;V<J.length;V++)U=R[J[V]],removeNode(c,U);for(var W,X=Q.length-1,Y=w;Y>=t;Y--)Q[X]===Y?(j=R[E[Q[X]]],X--):(W=-1===E[Y]?g(e[Y],Y,f):R[E[Y]],c.insertBefore(W,j),j=W)}function removeNode(a,b){a.removeChild(b),dispose(b)}function removeNodeRange(a,b,c){for(var d=b.nextSibling;d!==c;)removeNode(a,d),d=b.nextSibling}function each(a,b,c){var d=!1,e=!1,f=[],g=uuid(),h=document.createDocumentFragment(),i=document.createTextNode(""),j=document.createTextNode("");h.appendChild(i),h.appendChild(j);var k=a.subscribe(function(a){var h=i.parentNode,k=isIterable(a)?Array.from(a):[];if(c&&0===k.length){if(e)return;d?render(g,function(){removeNodeRange(h,i,j),h.insertBefore(c(a),j),e=!0,f=[]}):(h.insertBefore(c(a),j),e=!0,f=[])}else d?render(g,function(){e&&removeNodeRange(h,i,j),reconcile(h,f,k,a,b,i,j),e=!1,f=k}):(reconcile(h,f,k,a,b,i,j),e=!1,f=k)});return cleanup(i,k),d=!0,h}var MARKER=Symbol("marker");function getPromiseState(a){return Promise.race([a,MARKER]).then(function(a){return a===MARKER?"pending":"fulfilled"},function(){return"rejected"})}function when(a,b){var c,d,e=b.idle,f=b.pending,g=b.fulfilled,h=b.rejected,i=uuid(),j=document.createTextNode(""),k=!0,l=function(a){return render(i,function(){dispose(d),d=patchNode(d,a,j)})},m=function(a){isPromise(a)?getPromiseState(a).then(function(b){"pending"===b&&f&&l(f(a)),"rejected"!==b&&g&&a.then(function(b){return l(g(b,a))}),"fulfilled"!==b&&h&&a["catch"](function(b){return l(h(b,a))})}):e&&l(e(a))};isStore(a)?(c=a.subscribe(function(a){k?(!isPromise(a)&&e?d=e(a):(d=document.createTextNode(""),m(a)),k=!1):m(a)}),cleanup(j,c)):(d=document.createTextNode(""),m(a));var n=document.createDocumentFragment();return n.appendChild(d),n.appendChild(j),n}export{bind,cleanup,derived,dispose,each,effect,html,tick,val,when};
